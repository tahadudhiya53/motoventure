{% extends "index" %}
{% block content %}
	{% for block in entry.pageBuilder.all() %}
		{# Hero Block #}
		{% if block.type == "hero" %}
			{% set image = block.heroBgImg.one() ?? null %}
			<div class="hero" {% if image %} style="background-image: url('{{ image.url }}')" {% endif %}>
				<div class="hero__content content-column">
					<h1>{{ block.heroHeading }}</h1>
				</div>
			</div>
		{% endif %}

		{# Story Block #}
		{% if block.type.handle == "Story" %}
			<div class="featured-story">
				<div class="featured-story__flex content-column">
					<div class="featured-story__content">
						<h2>{{ block.storyHeading }}</h2>
						<p>{{ block.storyText }}</p>

						{% if block.storyLink %}
							<p>
								<a href="{{ block.storyLink }}" class="cta-link">Discover the full story</a>
							</p>
						{% endif %}
					</div>
					<div class="featured-story__slider">
						<div class="slider">

							<div class="slider__nav">
								<button type="button" class="slider__prev">
									<img src="{{ siteUrl }}static/images/arrow-prev.svg" alt="Previous">
								</button>
								<button type="button" class="slider__next">
									<img src="{{ siteUrl }}static/images/arrow-next.svg" alt="Next">
								</button>
							</div>
							<div class="slider__reel">
								{% for image in block.storySlider.all() %}
									<img src="{{ image.url }}" alt="{{ block.storyHeading }}" class="slider__image">
								{% endfor %}
							</div>
						</div>
					</div>
				</div>
			</div>
		{% endif %}

		{# Riders Block #}
		{% if block.type.handle == "riders" %}
			<section class="section section--more-padding section--light section--angled-top">
				<div class="content-column centered">
					<h2>Meet the Riders</h2>
					<p>Ride with passion, respect the road, and stay safe at every turn</p>
					<div class="flex-columns">
						{% for rider in block.ridersList.all() %}
							<div class="flex-columns__item">
								{% set riderImage = rider.Img.one() %}
								{% if riderImage %}
									<img src="{{ riderImage.url }}" alt="{{ rider.riderName }}" class="flex-columns__image">
								{% endif %}
								<h4>{{ rider.riderName }}</h4>
								<p>{{ rider.feedback }}</p>
							</div>
						{% endfor %}
					</div>
				</div>
			</section>
		{% endif %}
	{% endfor %}
{% endblock %}
